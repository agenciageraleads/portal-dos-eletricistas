{
  "$schema": "https://render.com/schema/v1",
  "services": [
    {
      "type": "web",
      "name": "portal-api",
      "env": "docker",
      "dockerfilePath": "./apps/api/Dockerfile",
      "envVars": [
        {
          "key": "DATABASE_URL",
          "fromDatabase": {
            "name": "portal-db",
            "property": "connectionString"
          }
        },
        {
          "key": "JWT_SECRET",
          "generateValue": true
        },
        {
          "key": "NODE_ENV",
          "value": "production"
        },
        {
          "key": "PORT",
          "value": "3001"
        }
      ]
    }
  ],
  "databases": [
    {
      "name": "portal-db",
      "databaseName": "portal_eletricista_db",
      "user": "portal_user",
      "plan": "free"
    }
  ]
}
